# 重庆大学计算机网络课程-作业2
在作业1中，你需要设计并描述自动柜员机ATM(Client)和银行中央计算机(Server)之间的应用层协议。   
你设计的协议应当允许：  
- 验证用户帐户(卡号)和口令；
- 查询用户账目(这些都在Sever中维护)；     
- 支取账目(即向用户支付现金)；   
- 能够处理余额不足的问题；    

最终选择了`RFC-20232023`来统一标准以便后续开发。    
### 要求
1.编程语言不限，但需要遵循`RFC-20232023`；   
2.设计开发ATM服务器端、客户端。客户端需要GUI，服务器端不需要GUI，但需要读取数据文件、日志记录，默认端口号`2525`；   
## 功能介绍
### 服务器端
- 基础功能  
  - 身份认证：验证用户账户和口令；   
  - 账户查询：查询用户余额并将结果返回给用户；  
  - 支取账目：判断用户余额是否充足并向用户支付现金；
  - 日志记录：记录用户的操作并写入日志文件；
- 其他说明
  - 为了让外网的客户端成功连接到内网的服务器，我们使用了NAT服务（Sakura FRP官网：https://www.natfrp.com/ ）
  - 但在后期的测试中发现了某ip向服务器发送大量请求，通过对该ip向服务器发送的信息进行分析，我们认为这是一种自动化渗透脚本，并将该ip加入了黑名单；
  - 在此过程中我们通过设置反向代理以获取用户的真实ip，并其记录在日志文件；
  - 如要使用`server`的代码进行测试，请自行配置NAT服务并注意防范针对服务器的恶意攻击；
  - `MSG.log`记录了客户端向服务器发送的信息；
  - `atm_server.log`记录了客户端的操作；
  - `accounts.txt`为用户信息（测试用例）
### 客户端
- 基础功能
  - 图形用户界面：优化用户体验，易于用户使用；
  - 账户查询：查询用户余额；
  - 取款：取出存款；
## 配置与使用
- JDK版本：`JDK1.8`或以上
- `server`：编译通过后运行`ATMServer.java`
- `ATMClient`：编译通过后运行`ATMClientGUI.java`

